<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>åŒç³»ç»Ÿè¿›ç¨‹å•</title>
    <style>
        /* é€šç”¨é‡ç½® */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #2c2e3a;
            color: #fff;
            font-family: "Microsoft YaHei", sans-serif;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        h1 {
            margin-bottom: 10px;
            text-align: center;
            color: #eee;
        }

        /* ä¸ºTOMSç³»ç»Ÿæ·»åŠ å‰ç¼€ */
        .toms-wrapper {
            position: relative;
        }

        .toms-wrapper h1 {
            color: #7CFF00;
        }

        .toms-container {
            background: #3d414d;
            border: 1px solid #555;
            padding: 15px;
            width: 1200px;
            position: relative;
            margin: 0 auto;
        }

        .toms-header {
            border-bottom: 2px solid #555;
            padding-bottom: 10px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .toms-flight-id {
            color: #00ff66;
            font-size: 32px;
            font-weight: bold;
            margin-right: 20px;
        }

        .toms-info-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .toms-label {
            color: #ccc;
            margin-right: 5px;
        }

        .toms-value-box {
            background: #222;
            border: 1px solid #666;
            padding: 3px 8px;
            min-width: 60px;
            display: inline-block;
        }

        /* TOMSä¸‹æ‹‰èœå•ä¸äº¤äº’æ ·å¼ */
        .toms-select {
            background: #222;
            color: #fff;
            border: 1px solid #666;
            padding: 4px;
            font-size: 16px;
            outline: none;
        }

        .toms-select-transparent {
            background: #222;
            color: #ffff00;
            /* è·‘é“ç”¨é»„è‰² */
            border: 1px solid #444;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
        }

        .toms-select-corridor {
            color: #fff;
            font-size: 16px;
            min-width: 80px;
        }

        .toms-runway-box {
            color: #ffff00;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            user-select: none;
        }

        .toms-warning-text {
            color: #ff4444;
            font-size: 14px;
            margin-top: 15px;
            text-align: center;
        }

        .toms-btn-group {
            margin-top: 20px;
            text-align: center;
        }

        .toms-btn {
            background: #444;
            color: #eee;
            border: none;
            padding: 8px 25px;
            margin: 0 10px;
            border-radius: 20px;
            cursor: pointer;
        }

        .toms-btn:hover {
            background: #555;
        }

        .toms-btn-close {
            position: absolute;
            right: 10px;
            top: 10px;
            color: #aaa;
            cursor: pointer;
        }

        /* ä¸ºè±æ–¯ç³»ç»Ÿæ·»åŠ å‰ç¼€ */
        .lais-wrapper {
            position: relative;
        }

        .lais-wrapper h1 {
            color: #d9b27c;
        }

        .lais-container {
            width: 1200px;
            margin: 0 auto;
            background: #323742;
            padding: 16px;
            box-sizing: border-box;
        }

        .lais-top-bar {
            display: grid;
            grid-template-columns: 220px 240px 240px 220px 220px;
            gap: 12px;
            margin-bottom: 14px;
        }

        .lais-field {
            display: flex;
            align-items: center;
        }

        .lais-field label {
            width: 70px;
            font-size: 13px;
            color: #b0b6c0;
        }

        .lais-field input,
        .lais-field select {
            flex: 1;
            height: 28px;
            background: #3a3f4b;
            border: 1px solid #555;
            color: #fff;
            padding: 0 6px;
        }

        .lais-flight-no {
            color: #7CFF00;
            font-weight: bold;
            font-size: 20px;
        }

        .lais-section {
            margin-top: 12px;
        }

        .lais-section-row {
            display: grid;
            grid-template-columns: 280px 280px 280px 280px;
            gap: 12px;
            margin-bottom: 10px;
        }

        .lais-footer {
            margin-top: 18px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .lais-warning {
            color: #ff4d4d;
            font-weight: bold;
        }

        .lais-btn {
            width: 110px;
            height: 34px;
            background: #505866;
            border: none;
            color: #fff;
            cursor: pointer;
        }

        .lais-btn.primary {
            background: #d9b27c;
            color: #000;
        }

        /* åˆ†éš”çº¿æ ·å¼ */
        .separator {
            height: 2px;
            background: linear-gradient(90deg, transparent, #555, transparent);
            margin: 20px auto;
            width: 90%;
        }
    </style>
</head>

<body>
    <!-- TOMSç³»ç»Ÿéƒ¨åˆ† -->
    <div class="toms-wrapper">
        <h1>TOMSè¿›ç¨‹å•</h1>
        <div class="toms-container">
            <div class="toms-btn-close">Ã— å…³é—­</div>
            <div class="toms-header">
                <span class="toms-flight-id">TEST2222</span>
                <span style="margin-right: 20px;">PRE</span>
                <span class="toms-label">ç›®çš„åœ°:</span> <span id="toms-dest_val">ZYCY</span> æœé˜³
                <span style="margin-left: 30px;"
                    class="toms-label">EOBT:</span> 0735
            </div>

            <div class="toms-info-row">
                <div><span class="toms-label">å‘¼å·:</span> --- / ---</div>
                <div><span class="toms-label">åœæœºä½:</span> <span class="toms-value-box">212</span></div>
                <div><span class="toms-label">CTOT:</span> <span class="toms-value-box"> 00:00</span></div>
                <div><span class="toms-label">ä»»åŠ¡:</span> /</div>
                <div><span class="toms-label">æœºå‹:</span> /</div>
            </div>

            <div style="margin: 10px 0; font-weight: bold;">FPL èˆªè·¯:</div>

            <div class="toms-info-row"
                style="align-items: center;">
                <span class="toms-label">èµ·é£è·‘é“:</span>
                <select id="toms-rw_select"
                    class="toms-select-transparent">
                    <option value="01R">01R</option>
                    <option value="01L">01L</option>
                    <option value="19L">19L</option>
                    <option value="19R">19R</option>
                </select>

                <span class="toms-label"
                    style="margin-left: 20px;">ç¦»åœºç¨‹åº:</span>
                <select id="toms-corridor_select"
                    class="toms-select-transparent toms-select-corridor"></select>

                <select id="toms-sid_suffix"
                    class="toms-select-transparent toms-select-corridor"></select>

                <span class="toms-label"
                    style="margin-left: 20px;">è¿è¡Œæ¨¡å¼:</span>
                <select id="toms-op_mode"
                    class="toms-select-transparent toms-select-corridor">
                    <option value="RNAV">RNAVè¿è¡Œæ¨¡å¼</option>
                    <option value="TRAN">TRANè¿è¡Œæ¨¡å¼</option>
                </select>
                <span class="toms-label"
                    style="margin-left: 20px;">èµ·å§‹é«˜åº¦:</span> <span class="toms-value-box">900</span> m
                <span class="toms-label"
                    style="margin-left: 20px;">åº”ç­”æœº:</span> A <span class="toms-value-box">2000</span>
            </div>

            <div class="toms-info-row">
                <span class="toms-label">ç¦»åœºé¢‘ç‡:</span> <span class="toms-value-box">121.2</span>
                <span class="toms-label"
                    style="margin-left: 20px;">æ”¾è¡Œé¢‘ç‡:</span> <span class="toms-value-box">118.375</span>
                <span class="toms-label"
                    style="margin-left: 10px;">é€šæ’­å·:</span>
                <span class="toms-value-box"
                    style="min-width: 20px;">G</span>
            </div>

            <div class="toms-info-row"
                style="align-items: center;">
                <span class="toms-label">è‡ªç”±æ–‡æœ¬:</span>
                <select id="toms-op_mode2"
                    class="toms-select-transparent toms-select-corridor"
                    style="width: 800px;">
                    <option value="RNAV"></option>
                    <option value="TRAN">WHEN AIRBORN RUNWAY HEADING</option>
                </select>
            </div>

            <div class="toms-warning-text">
                ä¸å…·å¤‡RNAVèƒ½åŠ›ï¼Œè¯·ä½¿ç”¨ä¼ ç»Ÿç¦»åœºç¨‹åºï¼ &nbsp;&nbsp; ä¸å…·å¤‡RVSMèƒ½åŠ›ï¼ &nbsp;&nbsp; æ— é¢†èˆªè®¡åˆ’æŠ¥æ–‡ï¼Œè¯·æ ¸å®ï¼
            </div>

            <div class="toms-btn-group">
                <button class="toms-btn">âŠ¹ æ•°å­—æ”¾è¡Œ</button>
                <button class="toms-btn">ğŸ‘¤ äººå·¥æ”¾è¡Œ</button>
            </div>


        </div>
        <h2 style="text-align: center;margin-top: 20px;">æŒ‰ç…§ç°æœ‰é€»è¾‘ï¼ŒTOMSè¿›ç¨‹å•å·²ç»ç¡®å®šèµ°å»Šå£çš„è¿˜å¯ä»¥æ›´æ”¹èµ°å»Šå£</h2>
    </div>

    <!-- åˆ†éš”çº¿ -->
    <div class="separator"></div>

    <!-- è±æ–¯ç³»ç»Ÿéƒ¨åˆ† -->
    <div class="lais-wrapper">
        <h1>è±æ–¯è¿›ç¨‹å•</h1>
        <div class="lais-container">
            <!-- é¡¶éƒ¨ -->
            <div class="lais-top-bar">
                <div class="lais-field"
                    style="grid-row-start: 0;grid-row-end: 2;">
                    <label>èˆªç­å·</label>
                    <span class="lais-flight-no">TEST1111</span>
                </div>

                <div class="lais-field">
                    <label>ç›®çš„åœ°</label>
                    <select id="lais-destSelect"></select>
                </div>

                <div class="lais-field">
                    <label>EOBT:</label>
                    <span>07:40</span>
                </div>

                <div class="lais-field">
                    <label>ä»»åŠ¡</label>
                    <span></span>
                </div>
                <div class="lais-field">
                    <label>æœºå‹</label>
                    <span>A320/M</span>
                </div>
                <div> </div>

                <div class="lais-field">
                    <label>åœæœºä½</label>
                    <input value="" />
                </div>
                <div class="lais-field">
                    <label>CTOT:</label>
                    <span></span>
                </div>
                <div class="lais-field">
                    <label>æ³¨å†Œå·ï¼š</label>
                    <span></span>
                </div>
            </div>

            <!-- ä¸­éƒ¨ -->
            <div class="lais-section">
                <div>FPL èˆªè·¯</div>
                <div class="lais-section-row">
                    <div class="lais-field">
                        <label>èµ·é£è·‘é“ï¼š</label>
                        <select id="lais-runwaySelect">
                            <option>01L</option>
                            <option>01R</option>
                            <option>19L</option>
                            <option>19R</option>
                        </select>
                    </div>

                    <div class="lais-field">
                        <label>ç¦»åœºç¨‹åº</label>
                        <select id="lais-sidSelect"></select>
                        <select id="lais-typeSelect">
                            <option>RNAV</option>
                            <option>TRAN</option>
                        </select>
                    </div>

                    <div class="lais-field">
                        <label>èµ·å§‹é«˜åº¦</label>
                        <input value="S0090">
                    </div>

                    <div class="lais-field">
                        <label>åº”ç­”æœº</label>
                        <input value="A0601">
                    </div>
                </div>

                <div class="lais-section-row">
                    <div class="lais-field">
                        <label>ç¦»åœºé¢‘ç‡ï¼š</label>
                        <input value="121.2">
                    </div>

                    <div class="lais-field">
                        <label>æ”¾è¡Œé¢‘ç‡</label>
                        <input>
                    </div>

                    <div class="lais-field">
                        <label>é€šæ³¢å·</label>
                        <input value="G">
                    </div>
                </div>

                <div class="lais-field">
                    <label>è‡ªç”±æ–‡æœ¬</label>
                    <select id="lais-typeSelect">
                        <option></option>
                        <option>WHEN AIRBORN RUNWAY HEADING</option>
                    </select>
                </div>
            </div>

            <!-- åº•éƒ¨ -->
            <div class="lais-footer"
                style="justify-content: center; gap: 80px;">
                <div>
                    <button class="lais-btn primary">æ•°å­—æ”¾è¡Œ</button>
                    <button class="lais-btn">äººå·¥æ”¾è¡Œ</button>
                </div>
                <div>
                    <button class="lais-btn">ä¿å­˜</button>
                </div>
            </div>
            
        </div>
        <h2 style="text-align: center;margin-top: 20px;">è±æ–¯ç”µå­è¿›ç¨‹å•å·²ç»ç¡®å®šèµ°å»Šå£çš„ä¸å¯ä»¥ä¿®æ”¹èµ°å»Šå£</h2>
    </div>

    <!-- æ¨¡æ‹Ÿçš„config.jsæ•°æ® -->
    <script>
        /* =====================
        ç›®çš„åœ° â†’ å”¯ä¸€èµ°å»Šå£
     ===================== */

        const DEST_CONFIG = {
            "æœºåœº1": "URGEB",
            "æœºåœº2": "P36",
            "æœºåœº3": "TULMU",
            "æœºåœº4": "OLMIB",
            "æœºåœº5": "GUGAM",
            "æœºåœº6": "BENBI"
        };

        /* =====================
           è¡¨å¤´å›ºå®šé¡ºåº
        ===================== */

        const FIX_ORDER = ["URGEB", "P36", "TULMU", "OLMIB", "GUGAM", "BENBI"];

        /* =====================
           èƒ½åŠ›é…ç½®ï¼ˆä¸ä½ æˆªå›¾ä¸€è‡´ï¼‰
        ===================== */

        const SID_TABLE = {
            RNAV: {
                "01L": {
                    URGEB: ["9", "7"],
                    P36: ["X"],
                    TULMU: ["5"],
                    OLMIB: ["9", "7", "5"],
                    GUGAM: ["9", "7", "5"],
                    BENBI: ["9", "7"]
                },
                "01R": {
                    URGEB: ["9", "7"],
                    P36: ["X"],
                    TULMU: ["5", "3"],
                    OLMIB: ["9", "7", "5"],
                    GUGAM: ["9", "7", "5"],
                    BENBI: ["9", "7"]
                },
                "19L": {
                    URGEB: ["9"],
                    P36: ["X"],
                    TULMU: ["5", "3"],
                    OLMIB: ["9", "5"],
                    GUGAM: ["9", "5"],
                    BENBI: ["9"]
                },
                "19R": {
                    URGEB: ["9"],
                    P36: ["X"],
                    TULMU: ["5", "3"],
                    OLMIB: ["9", "5"],
                    GUGAM: ["9", "5"],
                    BENBI: ["9"]
                }
            },

            TRAN: {
                "01L": {
                    URGEB: ["8", "6", "RV"],
                    P36: ["W", "RV"],
                    TULMU: ["4", "RV"],
                    OLMIB: ["8", "6", "4", "RV"],
                    GUGAM: ["8", "6", "4", "RV"],
                    BENBI: ["8", "6", "RV"]
                },
                "01R": {
                    URGEB: ["8", "6", "RV"],
                    P36: ["W", "RV"],
                    TULMU: ["4", "RV"],
                    OLMIB: ["8", "6", "4", "RV"],
                    GUGAM: ["8", "6", "4", "RV"],
                    BENBI: ["8", "6", "RV"]
                },
                "19L": {
                    URGEB: ["8", "RV"],
                    P36: ["W", "RV"],
                    TULMU: ["4", "2", "RV"],
                    OLMIB: ["8", "4", "RV"],
                    GUGAM: ["8", "4", "RV"],
                    BENBI: ["8", "RV"]
                },
                "19R": {
                    URGEB: ["8", "RV"],
                    P36: ["W", "RV"],
                    TULMU: ["4", "2", "RV"],
                    OLMIB: ["8", "4", "RV"],
                    GUGAM: ["8", "4", "RV"],
                    BENBI: ["8", "RV"]
                }
            }
        };

    </script>

    <script>
        // TOMSç³»ç»ŸJavaScript
        const tomsRwSelect = document.getElementById('toms-rw_select');
        const tomsCorridorSelect = document.getElementById('toms-corridor_select');
        const tomsSidSuffixSelect = document.getElementById('toms-sid_suffix');
        const tomsOpModeSelect = document.getElementById('toms-op_mode');
        const tomsDestName = document.getElementById('toms-dest_val').innerText;

        // 1. åˆå§‹åŒ–èµ°å»Šå£ä¸‹æ‹‰èœå• (ä» config.js çš„ FIX_ORDER è·å–)
        function tomsInitCorridors() {
            tomsCorridorSelect.innerHTML = "";
            FIX_ORDER.forEach(corridor => {
                let opt = document.createElement('option');
                opt.value = corridor;
                opt.innerText = corridor;
                // è‡ªåŠ¨é€‰ä¸­åŒ¹é…ç›®çš„åœ°çš„èµ°å»Šå£
                if (corridor === DEST_CONFIG[tomsDestName]) {
                    opt.selected = true;
                }
                tomsCorridorSelect.appendChild(opt);
            });
        }

        // 2. æ ¹æ® è·‘é“ + æ¨¡å¼ + èµ°å»Šå£ï¼Œæ›´æ–°åç¼€ä¸‹æ‹‰èœå•
        function tomsUpdateSIDOptions() {
            const currentRW = tomsRwSelect.value;
            const currentMode = tomsOpModeSelect.value;
            const currentCorridor = tomsCorridorSelect.value;

            // è·å–å¯¹åº”çš„åç¼€æ•°ç»„
            const suffixes = SID_TABLE[currentMode][currentRW][currentCorridor] || [];

            tomsSidSuffixSelect.innerHTML = "";
            suffixes.forEach(s => {
                let opt = document.createElement('option');
                // æ‹¼æ¥æ˜¾ç¤ºï¼Œå¦‚ URGEB + 9X (æ ¹æ®ä¹ æƒ¯è¿™é‡Œå¯ä»¥åªæ˜¾ç¤ºåç¼€æˆ–å…¨ç§°)
                opt.value = currentCorridor + s;
                if (s !== "RV") {
                    opt.innerText = currentCorridor + "-" + s;
                    tomsSidSuffixSelect.appendChild(opt);
                } else {
                    opt.innerText = s;
                    tomsSidSuffixSelect.appendChild(opt);
                }

            });
        }

        // äº‹ä»¶ç›‘å¬
        tomsRwSelect.onchange = tomsUpdateSIDOptions;
        tomsCorridorSelect.onchange = tomsUpdateSIDOptions;
        tomsOpModeSelect.onchange = tomsUpdateSIDOptions;

        // é¡µé¢åŠ è½½æ‰§è¡Œ
        window.onload = () => {
            tomsInitCorridors();
            tomsUpdateSIDOptions();
            laisUpdateSIDOptions(); // åˆå§‹åŒ–è±æ–¯ç³»ç»Ÿ
        };

        // è±æ–¯ç³»ç»ŸJavaScript
        const laisDestSelect = document.getElementById("lais-destSelect");
        const laisRunwaySelect = document.getElementById("lais-runwaySelect");
        const laisTypeSelect = document.getElementById("lais-typeSelect"); // RNAV / TRAD
        const laisSidSelect = document.getElementById("lais-sidSelect");

        /* ===== åˆå§‹åŒ–ç›®çš„åœ°ä¸‹æ‹‰ ===== */
        Object.keys(DEST_CONFIG).forEach(dest => {
            const opt = document.createElement("option");
            opt.value = dest;
            opt.textContent = dest;
            laisDestSelect.appendChild(opt);
        });

        /* ===== æ ¸å¿ƒï¼šæ›´æ–° SID ä¸‹æ‹‰ ===== */
        function laisUpdateSIDOptions() {
            laisSidSelect.innerHTML = "";

            const dest = laisDestSelect.value;
            const runway = laisRunwaySelect.value;
            const type = laisTypeSelect.value; // RNAV / TRAD

            if (!dest || !runway || !type) return;

            // â‘  ç›®çš„åœ° â†’ å”¯ä¸€èµ°å»Šå£
            const fix = DEST_CONFIG[dest];
            if (!fix) return;

            // â‘¡ æŸ¥èƒ½åŠ›æ•°ç»„
            const caps =
                SID_TABLE[type] &&
                SID_TABLE[type][runway] &&
                SID_TABLE[type][runway][fix];

            if (!caps || caps.length === 0) return;

            // â‘¢ ç”Ÿæˆ SID åç§°ï¼ˆèµ°å»Šå£ + èƒ½åŠ›ï¼‰
            caps.forEach(cap => {
                const opt = document.createElement("option");
                if (cap !== "RV") {
                    opt.value = `${fix}-${cap}`;
                    opt.innerText = `${fix}-${cap}`;
                } else {
                    opt.value = `${fix}-${cap}`;
                    opt.innerText = `${cap}`;
                }

                laisSidSelect.appendChild(opt);
            });
        }

        /* ===== ç›‘å¬è”åŠ¨ ===== */
        laisDestSelect.addEventListener("change", laisUpdateSIDOptions);
        laisRunwaySelect.addEventListener("change", laisUpdateSIDOptions);
        laisTypeSelect.addEventListener("change", laisUpdateSIDOptions);
    </script>
</body>

</html>